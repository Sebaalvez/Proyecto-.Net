using Obligatorio2Clases;
@{
    ViewBag.Title = "Ventas";
}

<h2>Ventas</h2>
<body style="background-image:url(https://trucoslondres.com/wp-content/uploads/2017/05/E.jpg) ">
    <div style="background-color:#F4D8AC;width:380px;height:20vh;width:20vw ; border-color : black; border:solid;position:center">
        <p></p>
        <form method="post" action="~/Venta/ComprarApto">
            <label for="cliente">Seleccione un cliente</label>
            <select name="cliente">
                <option value="">Seleccione un cliente</option>
                @foreach (var item in Obligatorio2Clases.Sistema.Instancia.Clientes)
                {
                    if (ViewBag.Cliente != null && item.Documento == ViewBag.Cliente)
                    {
                        <option id="cliente" value="@item.Documento" name="cliente" selected>@item.Documento</option>
                    }
                    else
                    {
                        <option id="cliente" value="@item.Documento" name="cliente">@item.Documento</option>
                    }
                }
            </select>
            <br />

            <label for="edificio">Seleccione un Edificio</label>
            <select name="edificio" onchange="form.action = '/Venta/MostrarApartamentos'; form.submit();">
                <option value="Seleccione un Edificio">Seleccione un Edificio</option>
                @foreach (var item in Obligatorio2Clases.Sistema.Instancia.DevolverEdificios)
                {
                    if (ViewBag.edificio != null && item.Nombre == ViewBag.edificio)
                    {
                        <option id="edificio" value="@item.Nombre" name="edificio" selected>@item.Nombre</option>
                    }
                    else
                    {
                        <option id="edificio" value="@item.Nombre" name="cliente">@item.Nombre</option>
                    }
                }
            </select>
            <br />

            <label for="apartamentos">Apartamentos</label>
            <select name="apartamentos">
                @foreach (Obligatorio2Clases.Apartamento a in ViewBag.apartamentos)
                {
                    <option value="@a.toStringDatosApto ">@a.toStringDatosApto</option>
                }
            </select>
            <br />

            <label for="fecha">Fecha:</label>
            <input class="requerido" value="Fecha" type="date" id="fecha" name="Fecha" placeholder="Ingresar la fecha" />
            <br />

            <input type="submit" value="Comprar" action="~/Venta/ComprarApto" />
        </form>
        <span>
            <p>@ViewBag.Estado</p>
        </span>
        </div>
</body>